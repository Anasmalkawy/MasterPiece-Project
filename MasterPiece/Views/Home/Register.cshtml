@model MasterPiece.Models.User
@{
    ViewData["Title"] = "إنشاء حساب";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<main>
    <!-- ✅ Start heading section -->
    <div class="heading">
        <div class="heading-home">
            <i class='bx bx-home'></i>
            <span>/ إنشاء حساب</span>
        </div>
        <div class="heading-home">
            <span>إنشاء حساب</span>
        </div>
    </div>
    <!-- ✅ End heading section -->
    <!-- ✅ Start register section -->
    <section class="register" dir="rtl">
        <div class="container-register">
            <form asp-action="Register" method="post" class="registration-form" id="register-form">
                <div class="title-register">
                    <h3>إنشاء حساب جديد</h3>
                </div>
                <input asp-for="Name" class="name" placeholder="الاسم" />
                <span asp-validation-for="Name" class="text-danger small"></span>

                <input asp-for="Email" class="email" placeholder="البريد الإلكتروني" />
                <span asp-validation-for="Email" class="text-danger small"></span>

                <input asp-for="Phone" class="phone" placeholder="رقم الهاتف" type="tel" />
                <span asp-validation-for="Phone" class="text-danger small"></span>

                <input asp-for="Password" class="password" placeholder="كلمة المرور" type="password" />
                <span asp-validation-for="Password" class="text-danger small"></span>

                <input id="ConfirmPassword" name="ConfirmPassword" class="password" placeholder="تأكيد كلمة المرور" type="password" />
                <span id="password-match-error" class="text-danger small"></span>

                <div class="terms-section">
                    <input type="checkbox" id="AgreeTerms" class="terms-checkbox-input" required />
                    <label for="AgreeTerms" class="terms-label">أوافق على الشروط والأحكام</label>
                </div>

                <button type="submit" class="registration-button">إنشاء حساب</button>

                <div class="or-register-with">
                    <span>او التسجيل بواسطة</span>
                </div>

                <div class="social-login">
                    <div class="social-icon">
                        <i class='bx bxl-facebook'></i>
                        <p>فيس بوك</p>
                    </div>
                    <div class="social-icon">
                        <i class='bx bxl-gmail'></i>
                        <p>جوجل</p>
                    </div>
                </div>

                <div class="already-have-account">
                    <p>لديك حساب بالفعل؟ <a asp-controller="Home" asp-action="login">تسجيل الدخول</a></p>
                </div>
            </form>

            <!-- ✅ Error Modal -->
            <div id="error-modal" class="modal">
                <div class="modal-content">
                    <span class="close" id="close-error-modal">&times;</span>
                    <p id="error-message" class="error-message">حدث خطأ أثناء التسجيل. يرجى المحاولة مرة أخرى.</p>
                </div>
            </div>
        </div>
    </section>
    <!-- ✅ End register section -->
</main>

@section Scripts {
    <script>
        // Script to validate password match
        document.addEventListener('DOMContentLoaded', function() {
            const registerForm = document.getElementById('register-form');
            const password = document.querySelector('input[name="Password"]');
            const confirmPassword = document.getElementById('ConfirmPassword');
            const passwordMatchError = document.getElementById('password-match-error');

            registerForm.addEventListener('submit', function(event) {
                if (password.value !== confirmPassword.value) {
                    event.preventDefault();
                    passwordMatchError.textContent = 'كلمات المرور غير متطابقة';
                } else {
                    passwordMatchError.textContent = '';
                }
            });
        });
    </script>
}